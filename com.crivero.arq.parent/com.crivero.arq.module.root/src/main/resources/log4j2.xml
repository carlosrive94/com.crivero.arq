<?xml version="1.0" encoding="UTF-8"?>
<Configuration xmlns="http://logging.apache.org/log4j/2.0/config">

	<Appenders>
		<!-- <File name="FILE" fileName="logfile.log" append="true"> <PatternLayout 
			pattern="%-5p | %d{yyyy-MM-dd HH:mm:ss} | [%t] %C{2} (%F:%L) - %m%n" /> </File> -->
		<Console name="STDOUT" target="SYSTEM_OUT">
			<PatternLayout
				pattern="AAA%-5p | %d{yyyy-MM-dd HH:mm:ss} | [%t] %C{2} (%F:%L) - %m%n" />
		</Console>
		<JDBC name="databaseAppender" tableName="application_log">
			<ConnectionFactory
				class="com.crivero.arq.module.root.logging.ConnectionFactory"
				method="getDatabaseConnection" />
			<Column name="EVENT_DATE" isEventTimestamp="true" />
			<Column name="LEVEL" pattern="%level" />
			<Column name="LOGGER" pattern="%logger" />
			<Column name="MESSAGE" pattern="%message" />
			<Column name="THROWABLE" pattern="%ex{full}" />
		</JDBC>
	</Appenders>

	<Loggers>
		<Logger name="com.crivero" level="debug" />

		<Root level="info">
			<AppenderRef ref="STDOUT" />
			<AppenderRef ref="databaseAppender" />
		</Root>
	</Loggers>

</Configuration>